{% extends 'base.html' %}
{% block content %}
    {% load staticfiles %}

    <div class="container-fluid zero-padding padding-bottom-6" style="margin-top: 5px;">
        <ul class="nav nav-tabs">
            <li class="active text-center">
                <a href="#owner_of" data-toggle="tab">Owner of <span id="ownedGroupsTotal" class="badge">{{ owner_of.total }}</span> groups</a>
            </li>
            <li class="text-center">
                <a href="#member_of" data-toggle="tab">Member of <span id="memberGroupsTotal" class="badge">{{ member_of.total }}</span> groups</a>
            </li>

            <li class="text-center">
                <a href="#create_group" data-toggle="tab">Create Group</a>
            </li>
        </ul>

        <div id="myTabContent" class="tab-content container-fluid bg-white padding-top-4">

            <div class="tab-pane fade in active" id="owner_of">
                {% include 'groups/owned_groups_table.html' %}
            </div>

            <div class="tab-pane fade" id="member_of">
                {% include 'groups/member_groups_table.html' %}
            </div>


            <div class="tab-pane fade" id="create_group">
                <div class="panel panel-default" style="max-width:400px; width:50%; margin: 0 auto;">
                    <div class="panel-body">
                        {% include 'groups/create_group_form.html' %}
                    </div>
                </div>

            </div>

        </div>

        {% include 'groups/delete_group_modal.html' %}
    </div>

    <footer class="footer">
        <br>Powered by <a href="https://www.djangoproject.com/">Django 1.7.6</a>
        <br><a href="http://js.cytoscape.org/">Cytoscape.js 3.2.17</a>
    </footer>

    <!-- JSON support for Groups Page -->
    <script type="text/javascript" src="{% static 'js/utils.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/groups_page.js' %}"></script>

    <script>
        $(document).ready(function () {
            groupsPage.init();
        });
    </script>
{% endblock %}
